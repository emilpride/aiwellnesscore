<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Your AI WELLNESSCORE Report</title>
    <meta name="description" content="Your personalized AI-powered wellness report, including your Wellness Age, detailed metrics, skin analysis, and a 7-day improvement plan.">
    <meta name="robots" content="noindex, nofollow">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --brand-accent: #debea9;
            --brand-dark-text: #3c3b31; 
        }

        html {
            scroll-behavior: smooth;
        }
        
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
        }

        .report-page {
            width: 100%;
            padding: 2rem;
            margin-bottom: 2rem;
            background-color: white;
            border-radius: 1.5rem;
            box-shadow: 0 20px 50px rgba(0,0,0,0.08);
            page-break-after: always;
            position: relative;
            overflow: hidden;
        }

        .page-number {
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            font-size: 0.875rem;
            color: #d1d5db;
            font-weight: 600;
        }

        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .reveal.active { opacity: 1; transform: translateY(0); }

        #loading-overlay {
            transition: opacity 0.5s ease-out;
        }
        .spinner {
            width: 56px;
            height: 56px;
            border: 5px solid #d1d5db;
            border-bottom-color: var(--brand-dark-text);
            border-radius: 50%;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation {
            100% { transform: rotate(360deg); }
        }

        .gradient-text {
            background: linear-gradient(to right, #8a2be2, #4b0082);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @media print {
            body { 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact; 
                background-color: #ffffff !important;
            }
            .no-print { display: none !important; }
            .report-page { 
                box-shadow: none !important; 
                border: 1px solid #e5e7eb !important; 
                margin: 0;
                padding: 1.5rem;
            }
            html, body {
                width: 100%;
                height: auto;
                background: none;
            }
            main {
                padding: 0 !important;
            }
            .gradient-text {
                background: none !important;
                -webkit-background-clip: unset !important;
                background-clip: unset !important;
                color: #4b0082 !important;
            }
        }
    </style>
</head>
<body class="text-gray-800">
    <div id="loading-overlay" class="fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center">
        <div class="spinner"></div>
        <h2 id="loading-text" class="text-xl font-semibold text-gray-700 mt-6">We are preparing your personal report...</h2>
        <p class="text-gray-500 mt-2">This may take up to 20 seconds.</p>
    </div>
    
    <div class="relative overflow-hidden">
        <header class="sticky top-0 z-50 bg-white/60 backdrop-blur-xl border-b border-white/20 no-print">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a href="index.html" class="flex items-center">
                    <img src="logo.png" alt="AI WELLNESSCORE Logo" class="h-10">
                </a>
                <div class="flex items-center gap-4">
                    <button class="download-pdf-btn bg-[--brand-dark-text] text-white font-semibold px-5 py-2 rounded-full text-sm sm:text-base hover:opacity-90 transition-opacity">
                        Download PDF
                    </button>
                </div>
            </div>
        </header>

        <main class="relative z-10">
            <div id="report-content" class="container mx-auto px-4 md:px-6 py-12 md:py-20" style="visibility: hidden;">

                <!-- Page 1: Title Page -->
                <section class="report-page text-center flex flex-col items-center justify-center min-h-[80vh] reveal">
                    <img src="logo.png" alt="Logo" class="h-20 mb-4">
                    <p class="text-lg text-gray-500">Your Personalized Wellness Report For</p>
                    <h1 class="text-5xl md:text-6xl font-black my-4" id="user-name">Jane Doe</h1>
                    <div class="mt-8 text-center">
                        <p class="font-semibold text-gray-600">Overall Wellness Score</p>
                        <p id="main-wellness-score" class="text-8xl md:text-9xl font-black gradient-text">0</p>
                        <p class="text-gray-500">out of 100</p>
                    </div>
                    <p class="text-sm text-gray-400 mt-8" id="report-date"></p>
                    <div class="page-number">1 / 10</div>
                </section>

                <!-- Page 2: Bio-Age -->
                <section class="report-page reveal">
                    <h2 class="text-3xl font-bold mb-6 text-center">Biological vs. Chronological Age</h2>
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div class="text-center bg-gray-50 p-8 rounded-2xl">
                            <p class="text-lg font-semibold text-gray-600">Your Chronological Age</p>
                            <p id="chrono-age" class="text-8xl font-black text-gray-800">0</p>
                        </div>
                        <div class="text-center bg-violet-50 p-8 rounded-2xl">
                             <p class="text-lg font-semibold text-violet-800">Your Biological Age is</p>
                             <p id="bio-age" class="text-8xl font-black gradient-text">0</p>
                        </div>
                    </div>
                    <div class="mt-8 p-6 bg-gray-50 rounded-2xl">
                        <h3 class="font-bold text-lg">What does this mean?</h3>
                        <p id="age-explanation" class="mt-2 text-gray-600"></p>
                    </div>
                    <div class="page-number">2 / 10</div>
                </section>
                
                 <!-- Page 3: Key Factors -->
                <section class="report-page reveal">
                     <h2 class="text-3xl font-bold mb-6 text-center">Key Lifestyle Factors</h2>
                     <div class="grid md:grid-cols-2 gap-8 mt-8">
                        <div class="bg-red-50 p-6 rounded-2xl border border-red-100">
                             <h3 class="text-2xl font-bold text-red-700 flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"/></svg>
                                Increasing Your Age
                            </h3>
                             <ul id="increasing-factors" class="mt-4 space-y-3 text-gray-700 list-disc list-inside"></ul>
                        </div>
                         <div class="bg-green-50 p-6 rounded-2xl border border-green-100">
                             <h3 class="text-2xl font-bold text-green-700 flex items-center gap-3">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
                                Decreasing Your Age
                            </h3>
                            <ul id="decreasing-factors" class="mt-4 space-y-3 text-gray-700 list-disc list-inside"></ul>
                        </div>
                    </div>
                    <div class="page-number">3 / 10</div>
                </section>

                <!-- Page 4: Stress & Sleep -->
                <section class="report-page reveal">
                    <h2 class="text-3xl font-bold mb-6 text-center">Deep Dive: Stress & Sleep</h2>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="h-80"><canvas id="stressChart"></canvas></div>
                        <div class="h-80"><canvas id="sleepChart"></canvas></div>
                    </div>
                     <div class="mt-8 p-6 bg-gray-50 rounded-2xl">
                        <h3 class="font-bold text-lg">Insights & Recommendations</h3>
                        <p id="stress-sleep-insights" class="mt-2 text-gray-600"></p>
                    </div>
                    <div class="page-number">4 / 10</div>
                </section>
                
                <!-- Page 5: Nutrition & Hydration -->
                <section class="report-page reveal">
                     <h2 class="text-3xl font-bold mb-6 text-center">Deep Dive: Nutrition & Hydration</h2>
                     <div class="grid md:grid-cols-2 gap-8">
                        <div class="h-80"><canvas id="nutritionChart"></canvas></div>
                        <div class="h-80"><canvas id="hydrationChart"></canvas></div>
                    </div>
                     <div class="mt-8 p-6 bg-gray-50 rounded-2xl">
                        <h3 class="font-bold text-lg">Insights & Recommendations</h3>
                        <p id="nutrition-hydration-insights" class="mt-2 text-gray-600"></p>
                    </div>
                    <div class="page-number">5 / 10</div>
                </section>

                <!-- Page 6: Physical Activity -->
                <section class="report-page reveal">
                    <h2 class="text-3xl font-bold mb-6 text-center">Deep Dive: Physical Activity</h2>
                    <div class="max-w-md mx-auto h-80"><canvas id="activityChart"></canvas></div>
                    <div class="mt-8 p-6 bg-gray-50 rounded-2xl">
                        <h3 class="font-bold text-lg">Insights & Recommendations</h3>
                        <p id="activity-insights" class="mt-2 text-gray-600"></p>
                    </div>
                     <div class="page-number">6 / 10</div>
                </section>
                
                <!-- Page 7: Skin Analysis -->
                <section class="report-page reveal">
                     <h2 class="text-3xl font-bold mb-6 text-center">Skin Analysis Results</h2>
                     <div class="grid md:grid-cols-2 gap-8 items-center">
                         <div>
                             <h3 class="font-bold text-lg mb-4">Key Indicators</h3>
                             <ul id="skin-analysis-list" class="space-y-4"></ul>
                         </div>
                         <div id="user-photo-container" class="relative">
                            <img src="https://placehold.co/400x530/f0f0f0/333?text=Your+Photo" id="user-photo" class="rounded-2xl w-full max-w-sm mx-auto">
                            <!-- Spots will be dynamically added here -->
                         </div>
                     </div>
                     <div class="mt-8 p-6 bg-gray-50 rounded-2xl">
                        <h3 class="font-bold text-lg">Skin Conclusion</h3>
                        <p id="skin-conclusion" class="mt-2 text-gray-600"></p>
                    </div>
                     <div class="page-number">7 / 10</div>
                </section>
                
                <!-- Page 8: Wellness Archetype -->
                <section class="report-page reveal text-center">
                    <h2 class="text-3xl font-bold mb-4">Your Wellness Archetype</h2>
                    <div id="archetype-icon" class="text-8xl my-6"></div>
                    <h3 id="archetype-name" class="text-4xl font-black gradient-text"></h3>
                    <p id="archetype-desc" class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto"></p>
                    <div class="page-number">8 / 10</div>
                </section>
                
                <!-- Page 9: 7-Day Plan -->
                <section class="report-page reveal">
                     <h2 class="text-3xl font-bold mb-6 text-center">Your 7-Day Action Plan</h2>
                     <p class="text-center text-gray-600 mb-8">Start with these small, actionable steps tailored to you.</p>
                     <div id="seven-day-plan" class="space-y-6"></div>
                     <div class="page-number">9 / 10</div>
                </section>
                
                <!-- Page 10: Long-Term Potential -->
                <section class="report-page reveal">
                     <h2 class="text-3xl font-bold mb-6 text-center">Your Long-Term Potential</h2>
                     <div class="grid md:grid-cols-2 gap-8">
                        <div class="h-80"><canvas id="potentialAgeChart"></canvas></div>
                        <div class="h-80"><canvas id="potentialLifespanChart"></canvas></div>
                    </div>
                    <div class="mt-8 p-6 bg-gray-50 rounded-2xl text-center">
                        <h3 class="font-bold text-lg">Final Thoughts</h3>
                        <p class="mt-2 text-gray-600">This report is your starting point. Consistency is key to achieving lasting results. You have the power to influence your health journey every day. Keep up the great work!</p>
                    </div>
                    <div class="page-number">10 / 10</div>
                </section>
                
                <!-- Final CTA Section -->
                <section class="text-center mt-8 no-print">
                    <button class="download-pdf-btn bg-[--brand-dark-text] text-white font-semibold px-8 py-4 rounded-full text-lg hover:opacity-90 transition-opacity">
                        Download PDF
                    </button>
                </section>

            </div>
        </main>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        
        // --- FAKE DATA OBJECT ---
        const fakeReportData = {
            userName: "Jane Doe",
            chronoAge: 35,
            wellnessAge: 32,
            metrics: {
                wellnessScore: { value: 82, description: "Your score is a holistic measure of your well-being, combining lifestyle, physical, and skin health factors." },
                stress: { value: 65, description: "Indicates a moderate level of stress. Lower scores are better." },
                sleep: { value: 78, description: "Your sleep quality appears to be good, which is crucial for recovery." },
                nutrition: { value: 85, description: "Your dietary habits are strong, keep it up!"},
                hydration: { value: 70, description: "Good hydration level, but there's room for improvement."},
                activity: {value: 60, description: "You have a moderately active lifestyle."},
            },
            ageExplanation: "Congratulations! Your biological age is 3 years younger than your chronological age. This suggests that your healthy habits are paying off, slowing down the aging process at a cellular level. Keep up the great work!",
            increasingFactors: [
                "High screen time before bed impacting sleep quality.",
                "Occasional consumption of processed foods.",
                "Moderate stress levels reported from work.",
            ],
            decreasingFactors: [
                "Consistent exercise routine (3-4 times a week).",
                "High intake of fruits and vegetables (5+ servings daily).",
                "Regular mindfulness practice.",
            ],
            stressSleepInsights: "Your sleep quality is good, but your stress levels are moderate. Reducing screen time an hour before bed and continuing your mindfulness practice can help lower stress further, which will positively impact your sleep and overall recovery.",
            nutritionHydrationInsights: "Your nutrition is excellent. To optimize further, ensure your water intake is consistent throughout the day. Carrying a reusable water bottle can be a great reminder.",
            activityInsights: "You are active, which is great for cardiovascular health. Consider incorporating some strength training twice a week to improve muscle mass and metabolic rate.",
            skinAnalysis: {
                dark_circle: 35,
                eye_pouch: 25,
                forehead_wrinkle: 40,
                acne: 15,
                skin_spot: 20
            },
            userPhotoUrl: "https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=1587&auto=format&fit=crop",
            skinConclusion: "Your skin is in good condition overall. The analysis indicates slight dark circles and minor forehead lines, likely linked to stress and screen time. Prioritizing sleep and hydration will significantly improve your skin's appearance.",
            archetype: {
                name: "The Balanced Achiever",
                icon: "ðŸ§˜â€â™€ï¸",
                description: "You successfully juggle a busy life while making time for wellness. You have a solid foundation, and with a few minor tweaks to your routine, you can unlock even greater vitality and health."
            },
            sevenDayPlan: [
                { day: 1, theme: "Foundation & Awareness", icon: "ðŸŒ…", morning: { task: "Start your day with a full glass of water before any coffee. While drinking, think of one thing you're grateful for." }, nutrition: { task: "Ensure your lunch includes at least 3 different colors of vegetables. Think bell peppers, spinach, carrots." }, activity: { task: "Take a 15-minute walk after lunch or dinner. Focus on your breathing." }, evening: { task: "Put away all screens (phone, TV, tablet) 30 minutes before your planned bedtime." } },
                { day: 2, theme: "Boosting Energy", icon: "âš¡ï¸", morning: { task: "Do 5 minutes of light stretching or yoga right after waking up to get your blood flowing." }, nutrition: { task: "Add a source of healthy fats to your breakfast, like avocado, nuts, or seeds." }, activity: { task: "Try 10 minutes of bodyweight exercises: squats, push-ups (on knees is fine!), and planks." }, evening: { task: "Read a chapter of a book (a physical book, not on a screen) before sleeping." } },
                { day: 3, theme: "Mindful Nutrition", icon: "ðŸ¥—", morning: { task: "Prepare a healthy, protein-rich breakfast to stay full and energized until lunch." }, nutrition: { task: "Eat your lunch away from your desk or screen, focusing solely on your food. Notice the tastes and textures." }, activity: { task: "Take the stairs instead of the elevator all day." }, evening: { task: "Brew a cup of caffeine-free herbal tea, like chamomile or peppermint, to help you relax." } },
                { day: 4, theme: "Stress Reduction", icon: "ðŸ§˜", morning: { task: "Before starting work, write down your top 3 priorities for the day to create focus and reduce overwhelm." }, nutrition: { task: "Avoid sugary snacks. If you need a pick-me-up, opt for a piece of fruit and a handful of almonds." }, activity: { task: "Mid-afternoon, take a 5-minute break to stand up, stretch your arms, and roll your neck and shoulders." }, evening: { task: "Listen to 10 minutes of calming music or a guided meditation podcast before bed." } },
                { day: 5, theme: "Active Living", icon: "ðŸƒâ€â™€ï¸", morning: { task: "Start your day with an upbeat song to boost your mood and energy." }, nutrition: { task: "Incorporate a lean protein source (like chicken, fish, or beans) into your dinner to aid muscle repair." }, activity: { task: "Go for a 30-minute brisk walk or jog. Challenge yourself to go a little faster than usual." }, evening: { task: "Reflect on one accomplishment from the day, no matter how small." } },
                { day: 6, theme: "Recovery & Joy", icon: "â˜€ï¸", morning: { task: "Allow yourself to wake up without an alarm if possible. Give your body the rest it needs." }, nutrition: { task: "Enjoy a meal you truly love, without guilt. Savor every bite." }, activity: { task: "Engage in a fun activity you enjoy, like dancing, hiking, or playing a sport." }, evening: { task: "Connect with a friend or family member, either in person or with a phone call." } },
                { day: 7, theme: "Planning for Success", icon: "ðŸ—“ï¸", morning: { task: "Review your week. What went well? What was challenging? No judgment, just observation." }, nutrition: { task: "Plan one or two healthy meals for the upcoming week to make healthy eating easier." }, activity: { task: "Schedule your workouts for the next week in your calendar like important appointments." }, evening: { task: "Set a clear intention for the week ahead. What is one small, positive change you want to continue?" } }
            ],
            potential: {
                age: 29,
                lifespan: 88
            }
        };

        // --- UI POPULATION FUNCTIONS ---

        function populateUI(data) {
            document.getElementById('user-name').textContent = data.userName;
            document.getElementById('main-wellness-score').textContent = data.metrics.wellnessScore.value;
            document.getElementById('chrono-age').textContent = data.chronoAge;
            document.getElementById('bio-age').textContent = data.wellnessAge;
            document.getElementById('age-explanation').textContent = data.ageExplanation;
            
            const populateList = (elementId, items) => {
                const list = document.getElementById(elementId);
                list.innerHTML = items.map(item => `<li>${item}</li>`).join('');
            };
            populateList('increasing-factors', data.increasingFactors);
            populateList('decreasing-factors', data.decreasingFactors);

            document.getElementById('stress-sleep-insights').textContent = data.stressSleepInsights;
            document.getElementById('nutrition-hydration-insights').textContent = data.nutritionHydrationInsights;
            document.getElementById('activity-insights').textContent = data.activityInsights;

            document.getElementById('user-photo').src = data.userPhotoUrl;
            document.getElementById('skin-conclusion').textContent = data.skinConclusion;
            populateSkinAnalysis(data.skinAnalysis);
            
            document.getElementById('archetype-icon').textContent = data.archetype.icon;
            document.getElementById('archetype-name').textContent = data.archetype.name;
            document.getElementById('archetype-desc').textContent = data.archetype.description;

            populateSevenDayPlan(data.sevenDayPlan);

            document.getElementById('report-date').textContent = `Report generated on: ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}`;

            animateValue(document.getElementById('main-wellness-score'), 0, data.metrics.wellnessScore.value, 1500);
        }

        function populateSkinAnalysis(skinData) {
            const list = document.getElementById('skin-analysis-list');
            const photoContainer = document.getElementById('user-photo-container');
            list.innerHTML = '';

            const skinMap = {
                dark_circle: { title: 'Dark Circles', position: { top: '55%', left: '40%' } },
                eye_pouch: { title: 'Eye Bags', position: { top: '58%', left: '60%' } },
                forehead_wrinkle: { title: 'Forehead Lines', position: { top: '35%', left: '50%' } },
                acne: { title: 'Acne', position: { top: '70%', left: '30%' } },
                skin_spot: { title: 'Skin Spots', position: { top: '65%', left: '70%' } }
            };

            for (const key in skinData) {
                if (skinMap[key]) {
                    const value = skinData[key];
                    const color = value > 50 ? 'bg-red-500' : value > 25 ? 'bg-yellow-500' : 'bg-green-500';
                    list.innerHTML += `
                        <li class="flex items-center justify-between">
                            <span class="font-semibold">${skinMap[key].title}</span>
                            <div class="w-1/2 bg-gray-200 rounded-full h-2.5">
                                <div class="${color}" style="width: ${value}%"></div>
                            </div>
                        </li>
                    `;
                    const spot = document.createElement('div');
                    spot.className = `absolute w-3 h-3 ${color} rounded-full border-2 border-white opacity-70`;
                    spot.style.top = skinMap[key].position.top;
                    spot.style.left = skinMap[key].position.left;
                    photoContainer.appendChild(spot);
                }
            }
        }

        function populateSevenDayPlan(plan) {
            const container = document.getElementById('seven-day-plan');
            container.innerHTML = plan.map(day => `
                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-center gap-4 border-b border-gray-200 pb-3 mb-4">
                        <div class="text-4xl">${day.icon}</div>
                        <div>
                            <h4 class="text-xl font-bold text-gray-800">Day ${day.day}: ${day.theme}</h4>
                        </div>
                    </div>
                    <div class="grid sm:grid-cols-2 gap-4 text-sm">
                        <div class="bg-white p-3 rounded-lg">
                            <h5 class="font-bold text-blue-600">MORNING</h5>
                            <p class="text-gray-700">${day.morning.task}</p>
                        </div>
                        <div class="bg-white p-3 rounded-lg">
                            <h5 class="font-bold text-green-600">NUTRITION</h5>
                            <p class="text-gray-700">${day.nutrition.task}</p>
                        </div>
                        <div class="bg-white p-3 rounded-lg">
                            <h5 class="font-bold text-orange-600">ACTIVITY</h5>
                            <p class="text-gray-700">${day.activity.task}</p>
                        </div>
                        <div class="bg-white p-3 rounded-lg">
                            <h5 class="font-bold text-indigo-600">EVENING</h5>
                            <p class="text-gray-700">${day.evening.task}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- CHARTING FUNCTIONS ---
        
        let charts = {};

        function createDonutChart(canvasId, label, value, color) {
            const ctx = document.getElementById(canvasId)?.getContext('2d');
            if(!ctx) return;
            charts[canvasId] = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [label, ''],
                    datasets: [{
                        data: [value, 100 - value],
                        backgroundColor: [color, '#e5e7eb'],
                        borderColor: ['#fff'],
                        borderWidth: 4,
                        circumference: 270,
                        rotation: 225,
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    cutout: '80%',
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                    animation: { animateRotate: true, animateScale: true, duration: 1500 }
                }
            });
        }
        
        function createBarChart(canvasId, labels, data, bgColors, borderColors) {
            const ctx = document.getElementById(canvasId)?.getContext('2d');
            if(!ctx) return;
            charts[canvasId] = new Chart(ctx, {
                type: 'bar',
                data: { labels, datasets: [{ label: 'Value', data, backgroundColor: bgColors, borderColor: borderColors, borderWidth: 2, borderRadius: 8 }] },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                    scales: {
                        y: { beginAtZero: false, grid: { drawOnChartArea: false }, ticks: { font: { weight: 'bold' } } },
                        x: { grid: { display: false } }
                    },
                    animation: { duration: 1500, easing: 'easeOutQuart' }
                }
            });
        }
        
        function renderAllCharts(data) {
            createDonutChart('stressChart', 'Stress', data.metrics.stress.value, '#ef4444');
            createDonutChart('sleepChart', 'Sleep', data.metrics.sleep.value, '#3b82f6');
            createDonutChart('nutritionChart', 'Nutrition', data.metrics.nutrition.value, '#22c55e');
            createDonutChart('hydrationChart', 'Hydration', data.metrics.hydration.value, '#06b6d4');
            createDonutChart('activityChart', 'Activity', data.metrics.activity.value, '#f97316');

            createBarChart('potentialAgeChart', ['Current Bio-Age', 'Potential Age'], [data.wellnessAge, data.potential.age], ['#a855f7', '#d8b4fe'], ['#8b5cf6', '#c084fc']);
            createBarChart('potentialLifespanChart', ['Standard Lifespan', 'Potential Lifespan'], [82, data.potential.lifespan], ['#6b7280', '#10b981'], ['#4b5563', '#059669']);
        }
        
        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start);
                if (progress < 1) window.requestAnimationFrame(step);
            };
            window.requestAnimationFrame(step);
        }

        // --- INITIALIZATION ---
        
        setTimeout(() => {
            const loadingOverlay = document.getElementById('loading-overlay');
            const reportContent = document.getElementById('report-content');
            
            populateUI(fakeReportData);
            renderAllCharts(fakeReportData);

            loadingOverlay.style.opacity = 0;
            setTimeout(() => {
                loadingOverlay.style.display = 'none';
                reportContent.style.visibility = 'visible';

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('active');
                        }
                    });
                }, { threshold: 0.1 });

                document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            }, 500);
        }, 1500);

        // PDF Download Logic
        document.querySelectorAll('.download-pdf-btn').forEach(button => {
            button.addEventListener('click', () => {
                const element = document.getElementById('report-content');
                const opt = {
                    margin: 0.2,
                    filename: 'AI-WELLNESSCORE-Report.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true },
                    jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
                };
                html2pdf().set(opt).from(element).save();
            });
        });
    });
    </script>
</body>
</html>

